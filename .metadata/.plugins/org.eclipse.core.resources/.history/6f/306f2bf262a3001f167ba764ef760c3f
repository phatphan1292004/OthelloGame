package main;

import java.awt.*;
import javax.swing.*;

public class Tile extends JButton {
    private int row;
    private int col;
    private GUI gui;
    private int state; // 1 for black, -1 for white, 0 for empty

    // Constructor for Tile
    public Tile(GUI gui, int row, int col) {
        this.gui = gui;
        this.row = row;
        this.col = col;
        this.setBackground(Color.GREEN);  // Default background color
        this.setPreferredSize(new Dimension(40, 40));
        this.addActionListener(e -> gui.onClick(row, col));
    }

    // Getters for row, col, and state
    public int getRow() {
        return row;
    }

    public int getCol() {
        return col;
    }

    public int getState() {
        return state;
    }

    // Set the state of the tile and update the appearance
    public void setState(int state) {
        this.state = state;
        
        if (state == 1) {
            // Set black piece icon
            this.setIcon(new ImageIcon("src/blackPiece.gif"));
            this.setBackground(Color.GREEN); // Keeps the background green for black pieces
        } else if (state == -1) {
            // Set white piece icon
            this.setIcon(new ImageIcon("src/whitePiece.png"));
            this.setBackground(Color.GREEN); // Keeps the background green for white pieces
        } else {
            // Empty tile
            this.setIcon(null);
            this.setBackground(Color.GREEN); // Empty tiles stay green
        }
    }
}
